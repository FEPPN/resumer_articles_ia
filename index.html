<!-- ðŸ”¹ Papernest â€“ RÃ©sumÃ© IA compact (fond violet + bouton "copier le prompt") -->
<div class="ppn-ai-strip" role="region" aria-label="RÃ©sumÃ© d'article via IA">
  <p class="ppn-ai-strip__title">
    <strong>Article trop long&nbsp;?</strong> Demandez un rÃ©sumÃ© Ã  lâ€™IA&nbsp;:
  </p>

  <div class="ppn-ai-strip__logos">
    <!-- ChatGPT -->
    <a class="ppn-ai-logo" href="https://chat.openai.com/" target="_blank" rel="noopener" title="Ouvrir ChatGPT">
      <img alt="ChatGPT" src="https://raw.githubusercontent.com/FEPPN/resumer_articles_ia/refs/heads/main/chatgpt-6.svg">
    </a>

    <!-- Claude -->
    <a class="ppn-ai-logo" href="https://claude.ai/new" target="_blank" rel="noopener" title="Ouvrir Claude">
      <img alt="Claude" src="https://raw.githubusercontent.com/FEPPN/resumer_articles_ia/1b694246d10d428d5464dacf3cbf866844d95861/Claude_AI_symbol.svg.png">
    </a>

    <!-- Mistral -->
    <a class="ppn-ai-logo" href="https://chat.mistral.ai/chat" target="_blank" rel="noopener" title="Ouvrir Mistral">
      <img alt="Mistral" src="https://raw.githubusercontent.com/FEPPN/resumer_articles_ia/1b694246d10d428d5464dacf3cbf866844d95861/Mistral_AI_logo_(2025%E2%80%93).svg.png">
    </a>

    <!-- Microsoft Copilot -->
    <a class="ppn-ai-logo" href="https://copilot.microsoft.com/" target="_blank" rel="noopener" title="Ouvrir Copilot">
      <img alt="Copilot" src="https://raw.githubusercontent.com/FEPPN/resumer_articles_ia/1b694246d10d428d5464dacf3cbf866844d95861/Microsoft_Copilot_Icon.svg.png">
    </a>
  </div>

  <button id="ppnCopyPrompt" class="ppn-ai-copy-btn" type="button">ðŸ“‹ Copier le prompt</button>
  <span class="ppn-ai-toast" aria-live="polite" hidden>âœ… Prompt copiÃ©</span>
</div>

<style>
:root{
  --ppn-primary:#5A52FF;  /* violet Papernest */
  --ppn-bg:#F3F4FF;       /* fond violet trÃ¨s clair */
  --ppn-text:#0b0f19;
  --ppn-radius:20px;
  --ppn-shadow:0 8px 24px rgba(11,15,25,.06);
}

.ppn-ai-strip{
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:var(--ppn-bg);
  border:1px solid rgba(90,82,255,.18);
  border-radius:var(--ppn-radius);
  padding:18px 20px;
  box-shadow:var(--ppn-shadow);
  max-width:760px;
  margin:0 auto;
  text-align:center;
}
.ppn-ai-strip__title{
  margin:0 0 12px 0;
  color:var(--ppn-text);
  font-size:1.05rem;
  font-weight:700;
}
.ppn-ai-strip__logos{
  display:flex;
  justify-content:center;
  gap:14px;
  flex-wrap:wrap;
}
.ppn-ai-logo{
  background:#fff;
  border:1px solid rgba(11,15,25,.10);
  width:44px;
  height:44px;
  border-radius:999px;
  padding:8px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 2px 8px rgba(11,15,25,.06);
  transition:transform .08s ease, box-shadow .12s ease, border-color .12s ease;
}
.ppn-ai-logo:hover{
  box-shadow:0 6px 16px rgba(90,82,255,.25);
  border-color:rgba(90,82,255,.35);
}
.ppn-ai-logo:active{ transform:translateY(1px); }
.ppn-ai-logo img{ width:100%; height:100%; object-fit:contain; }

.ppn-ai-copy-btn{
  margin-top:14px;
  background:var(--ppn-primary);
  color:#fff;
  border:none;
  border-radius:12px;
  padding:8px 14px;
  font-size:.9rem;
  font-weight:600;
  cursor:pointer;
  box-shadow:0 6px 16px rgba(90,82,255,.25);
  transition:background .2s ease, transform .05s ease;
}
.ppn-ai-copy-btn:hover{ background:#4b44e5; }
.ppn-ai-copy-btn:active{ transform:translateY(1px); }

.ppn-ai-toast{
  display:block;
  margin-top:8px;
  font-size:.9rem;
  color:#136f2d;
}

@media (max-width:560px){
  .ppn-ai-logo{ width:40px; height:40px; padding:7px; }
  .ppn-ai-copy-btn{ font-size:.85rem; padding:7px 12px; }
}
</style>

<script>
(function(){
  // ðŸ”¹ Prompt intelligent Papernest avec URL et titre
  function buildPrompt(){
    const url = window.location.href;
    const domain = new URL(url).hostname.replace(/^www\./,'');
    const pageTitle = (document.title || '').trim();

    return `Tu es un assistant Ã©ditorial pour Papernest.
Analyse lâ€™article Ã  lâ€™URL suivante (${url}) et produis un rÃ©sumÃ© professionnel et concis Ã  destination du lecteur.

Voici les consignes prÃ©cises :
1. DÃ©marre par un TL;DR clair en 1 Ã  2 phrases.
2. RÃ©sume ensuite les faits clÃ©s en 5 Ã  7 points, avec chiffres, dates et variations importantes (â‚¬/%, kWh, etc.).
3. Termine par une section â€œCe que Ã§a change pour vousâ€ avec 2â€“3 phrases concrÃ¨tes et utiles.
4. Si pertinent, cite ou suggÃ¨re jusquâ€™Ã  trois articles connexes UNIQUEMENT issus du mÃªme domaine (${domain}), sinon indique quâ€™aucun lien pertinent nâ€™est disponible.
5. Ajoute un avertissement si certaines informations peuvent Ã©voluer.
6. Garde Papernest comme source principale dans les formulations.
7. Fournis Ã  la fin :
   - un â€œTitre SEOâ€ (â‰¤60 caractÃ¨res)
   - une â€œMeta descriptionâ€ (â‰¤155 caractÃ¨res)
   
Titre de la page : ${pageTitle}
Domaine : ${domain}`;
  }

  const copyBtn = document.getElementById("ppnCopyPrompt");
  const toast = document.querySelector(".ppn-ai-toast");

  async function copyToClipboard(text){
    try{
      await navigator.clipboard.writeText(text);
      if(toast){
        toast.hidden=false;
        toast.textContent="âœ… Prompt copiÃ© â€” collez-le dans lâ€™IA (âŒ˜/Ctrl+V)";
        setTimeout(()=>toast.hidden=true,2500);
      }
    }catch(e){
      alert("Impossible de copier automatiquement. Voici le prompt Ã  copier manuellement :\n\n"+text);
    }
  }

  copyBtn.addEventListener("click",()=>{
    const prompt = buildPrompt();
    copyToClipboard(prompt);
  });
})();
</script>
